<%# the local variable 'contributor' should be passed in to this partial when there are multiple per page %>
<% if contributor.new_record? %>
  <%= form_for(contributor, url: stash_datacite.contributors_create_path, remote: true, authenticity_token: true, html: {id: "contributor_new_form"}) do |f| %>
    <%#= render "datacite/shared/error_messages", target: @contributor %>
    <strong><%= label_tag "Funding" %><br/></strong>
    <%= f.label :contributor_name, "Granting Organization" %>
    <%= f.text_field :contributor_name, size: 40 %>&nbsp;&nbsp;&nbsp;&nbsp;
    <%= label_tag 'Award Number' %>
    <%= text_field_tag 'award number', '', size: 30 %>
    <%#= f.label :affliation_id, "Institutional Affiliation" %>
    <%#= f.text_field :affliation_id, size: 40 %>
    <%= f.hidden_field :contributor_type%>
    <%= f.hidden_field :resource_id %>
    <%= f.hidden_field :id %>
    <%= f.submit 'add' %>
    <%= link_to 'remove', '#', class: 'remove' %>
    <br/>
  <% end %>
<% else %>
  <%= render partial: "stash_datacite/contributors/update", locals: { contributor: @contributor } %><br/>
<% end %>