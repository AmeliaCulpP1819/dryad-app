<%# the local variable 'creator' should be passed in to this partial when there are multiple per page %>
<%= form_for(creator, url: stash_datacite.creators_create_path, remote: true, authenticity_token: true, html: { id: "creator_new_form"}) do |f| %>
<%#= render "datacite/shared/error_messages", target: @creator %>
<%= f.label :creator_first_name, "First Name" %>
<%= f.text_field :creator_first_name %>&nbsp;&nbsp;
<%= f.label :creator_last_name, "Last Name" %>
<%= f.text_field :creator_last_name %>&nbsp;&nbsp;
<%#= creator.input :name_identifier_id %>
<%= f.label :affliation_id, "Institutional Affiliation" %>
<%= f.text_field :affliation_id %>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<%= f.hidden_field :resource_id %>
<%= f.submit 'add' %>
<%= link_to 'remove', '#', class: 'remove' %>
<% end %>

<script>
$(document).ready(function() {
  $('.remove').on('click', function (event) {
    $(this).closest('form').remove();
    $(this).closest('br').remove();
    event.preventDefault(); // Prevent link from following its href
  });
});
</script>