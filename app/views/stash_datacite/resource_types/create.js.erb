$('#resource_type_new_form').replaceWith("<%= raw escape_javascript(render partial: 'stash_datacite/resource_types/update', locals: {resource_type: @resource_type}) %>");
$(document).ready(function(){
  $( '.resource_type' ).on('focus', function () {
    previous_value = this.value;
    }).change(function() {
      new_value = this.value;
      // Save when the new value is different from the previous value
      if(new_value != previous_value) {
        var form = $(this).parents('form');
        $(form).trigger('submit.rails');
      }
    });
});