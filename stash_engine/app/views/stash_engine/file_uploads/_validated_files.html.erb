<% #takes local variable of resource %>

<div>
  <% if resource.file_uploads.validated_table.count < 1 %>
    <span id="no_chosen2">No files have been uploaded.</span>
  <% else %>
    <table class="c-manifest-table">
      <tr class="c-manifest-table__head">
        <th class="c-manifest-table__filename-col">Filename</th>
        <th class="c-manifest-table__url-col">URL</th>
        <th class="c-manifest-table__size-col">Size</th>
        <th class="c-manifest-table__version-col">Version</th>
        <th class="c-manifest-table__actions-col">Actions</th>
      </tr>
      <%= render partial: "stash_engine/file_uploads/uploaded_file_from_server",
               collection: resource.file_uploads.validated_table, as: :uploaded_file %>
      <% if resource.latest_file_states.count > 10 %>
        </tbody> <!-- closing tbody which shows/hides rows greater than 10 -->
      <% end %>
    </table>
    <p id="show_all_files"><a href="#">Show all files</a></p>
    <p id="show_10_files"><a href="#">Show 10 files</a></p>
    <p id="display_size"></p>
  <% end %>
  <script>
    $('#display_size').html('Total: ' + formatSizeUnits(totalSize('#validated_files')));
  </script>
</div>